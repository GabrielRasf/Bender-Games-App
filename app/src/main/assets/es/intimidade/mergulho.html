<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../../stylesCards.css">
    <title>Bender Games</title>
</head>

<body>
<div class="game-container">
    <!-- Men√∫ -->
    <nav class="menu">
        <div class="menu-left">
            <a href="../menuEs.html" class="voltar-wrapper">
                <img src="../../images/left-arrow.png" alt="Volver">
                <h2 class="voltar">Volver</h2>
            </a>
        </div>

        <div class="menu-center">
            <a href="../menuEs.html">
                            <img class="logo-bebedeira" src="../../images/logo-bender-games.png" alt="Logo Bebedeira" />

            </a>
        </div>

        <div class="menu-spacer"></div>
    </nav>

    <!-- Contenido del juego -->
    <h1>
        <a href="intimidade.html">Intimidad</a>
    </h1>
    <h3>Inmersi√≥n</h3>
    <div>
        <a href="#" onclick="openPopup()">
            <img class="img-regras" src="../images/regras.png" alt="Reglas" />
        </a>
        <h4 onclick="openPopup()">Reglas</h4>
    </div>

    <!-- Pop-up de reglas -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Reglas del Juego</h2>
                <span class="close" onclick="closePopup()">&times;</span>
            </div>
            <ul>
                <li>En esta etapa, ser√°n peque√±os desaf√≠os para realizar una vez por semana.</li>
                <li>Pueden hacerse junto con la etapa 2.</li>
                <li>¬°Divi√©rtanse! üçª</li>
            </ul>
        </div>
    </div>

    <div class="card-frase">
        <p id="questionMergulho"></p>
        <ul id="optionsList" class="options-list"></ul>
    </div>

    <div class="button-container">
        <button onclick="nextQuestion()">Siguiente pregunta</button>
    </div>
    <div id="result"></div>
</div>

<!-- Pop-up de la respuesta -->
<div id="answerPopup" class="popup">
    <div class="popup-content">
        <span class="close" onclick="closeAnswerPopup(); popup()">&times;</span>
        <h2>Respuesta</h2>
        <p id="answerText">¬°Haz clic en una pregunta primero!</p>
    </div>
</div>






<script>
    // JSON incrustado directamente
    const questionData = {
        questions: [
            "Si nos hici√©ramos un tatuaje juntos, ¬øqu√© tatuar√≠amos? Dib√∫jense uno en el otro.",
            "De los mismos creadores de 'vale night', llega 'vale day'. Creen una programaci√≥n sorpresa para su pareja con lo que podr√≠an hacer durante el d√≠a. √âl o ella vivir√° este d√≠a solo/a. (¬°Tranquilos! La nostalgia es buena para la relaci√≥n).",
            "¬°Detengan todo y est√©n presentes para un beso apasionado, largo y delicioso! Intenten agregar uno de estos besos a diario.",
            "Escriban una canci√≥n de amor o un poema y rec√≠tenlo/c√°ntenlo el uno para el otro. Tienen 5 minutos cronometrados para escribir y luego revelarlo cantando o recitando.",
            "Creen una lista de reproducci√≥n de pareja, elijan las canciones que m√°s les gusten y no olviden darle un nombre creativo.",
            "Ejercicio de contemplaci√≥n: p√≥nganse de pie, cara a cara, y hablen sobre cada parte del cuerpo que admiran en el otro. Si quieren, mientras hablan, usen las manos para tocar cada parte del cuerpo del otro.",
            "Intercambien roles: pasen todo un d√≠a expresando amor/afecto/actitudes como lo expresa su pareja.",
            "Creen un desaf√≠o para cumplir durante la semana. Elijan juntos cu√°l ser√° el premio para el ganador.",
            "Recordar para (re)recordar: revisen las conversaciones antiguas, del inicio del flirteo en WhatsApp, Instagram, Facebook o en la galer√≠a de fotos y observen qu√© ha cambiado desde entonces.",
            "(Re)creen la primera cita que tuvieron. Usen la creatividad para reproducir lo que sucedi√≥ en esa √©poca.",
            "T√≥mense de las manos o √°tenlas con un hilo y qu√©dense as√≠ unos minutos. Hagan algo, por ejemplo, cocinar, comer algo o bailar. Perciban c√≥mo es el trabajo en equipo y c√≥mo fluyen juntos.",
            "Creen un nuevo hobbie para hacer juntos, semanal o quincenalmente. Por ejemplo: clases de baile, cer√°mica, pintura, leer el mismo libro o ver una pel√≠cula en el cine.",
            "Hagan un pacto y escriban juntos las reglas m√°s importantes en una relaci√≥n para ustedes. Col√≥quenlas donde puedan verlas siempre (por ejemplo, en la nevera).",
            "¬øListos para verse a trav√©s de los ojos del otro? Tomen el celular y hagan una sesi√≥n de fotos del otro (al menos 10 fotos). Es normal sentirse t√≠midos al comienzo. ¬°Divi√©rtanse!",
            "Pasen un d√≠a entero sin celular. Luego, escriban c√≥mo fue esta experiencia para ustedes. Transformen los sentimientos en palabras.",
            "El poder de la mirada: fl√©tense el uno al otro solo con la mirada.",
            "Si√©ntense frente a frente, t√≥mense de las manos y miren los ojos del otro. Respiren profundamente y relajen la vista. Luego hablen sobre c√≥mo fue esta experiencia.",
            "Asuman el papel de profesor y alumno/a. Cada uno elige una habilidad que ense√±ar√° al otro (o al menos lo intentar√°).",
            "Elijan una serie, pel√≠cula, etc., para ver juntos. Compartan entre ustedes sus percepciones sobre la pel√≠cula.",
            "Por separado, hagan un dibujo de c√≥mo se ven en el futuro, el uno con el otro. ¬°Comenten el resultado!"
        ]
    };

        let questions = [];
    let currentQuestion = 0;

    // Shuffle and load questions
    function loadQuestions() {
        questions = shuffleArray(questionData.questions);
        nextQuestion();
    }

    // Shuffle array helper
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // Show next question
    function nextQuestion() {
        if (questions.length === 0) {
            document.getElementById("questionMergulho").textContent = "Loading questions...";
            return;
        }

        if (currentQuestion < questions.length) {
            document.getElementById("questionMergulho").textContent = questions[currentQuestion];
            document.getElementById("result").textContent = "";
            currentQuestion++;
        } else {
            document.getElementById("questionMergulho").textContent = "Game over! Hope you enjoyed! Play again?";
            document.getElementById("result").textContent = "";
            currentQuestion = 0;
            questions = shuffleArray(questions);
        }
    }

    // Popup functions
    function openPopup() {
        document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
        document.getElementById("popup").style.display = "none";
    }

    function closeAnswerPopup() {
        document.getElementById("answerPopup").style.display = "none";
    }

    window.onclick = function (event) {
        const popup = document.getElementById("popup");
        if (event.target === popup) {
            popup.style.display = "none";
        }
    };
    document.querySelectorAll(
        `button,
.button-language,
#btnConfirm,
#btnCancel,
.game-box,
.btn-fato,
.btn-vdd,
.btn-falso,
.btn-conseq,
.btn-proxima-pergunta,
.button-randomizador,
.voltar-wrapper,
.pergunta-e-resposta,
.popup .close,
.img-regras,
.popup-content`
    ).forEach(function (el) {
        el.addEventListener('click', function (event) {
            const target = event.currentTarget;
            const href = target.getAttribute("href");

            // Aplica a anima√ß√£o
            target.classList.remove('animar-clique-afundar');
            void target.offsetWidth;
            target.classList.add('animar-clique-afundar');

            // Se for um link <a>, evita a navega√ß√£o imediata
            if (href) {
                event.preventDefault(); // impede o redirecionamento instant√¢neo

                setTimeout(() => {
                    window.location.href = href;
                }, 600); // tempo da anima√ß√£o antes de redirecionar
            }

            // Se n√£o for link, apenas remove a classe depois do tempo
            setTimeout(() => {
                target.classList.remove('animar-clique-afundar');
            }, 700);
        });
    });

    // Start game on load
    loadQuestions();
</script>
</body>

</html>