<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css">
    <title>Bender Games</title>
</head>

<body>
<div class="main-container">
    <div class="logo-container">
        <a href="#">
            <img class="logo-bebedeira" src="./images/logo-bender-games.png" alt="Logo Bebedeira" />
        </a>
    </div>

    <div class="button-center">
        <button class="button-language" onclick="openPopup('pt')">🇧🇷 Português</button>
        <button class="button-language" onclick="openPopup('en')">🇬🇧 English</button>
        <button class="button-language" onclick="openPopup('es')">🇪🇸 Español</button>
        <button class="button-language" onclick="openPopup('fr')">🇫🇷 Français</button>
        <button class="button-language" onclick="openPopup('hi')">🇮🇳 Hindi</button>
    </div>
</div>

<!-- Popup -->
<div id="languagePopup" class="popup">
    <div class="popup-content">
        <div class="warning-icon">⚠️</div>
        <p id="popupText"></p>
        <div class="popup-buttons">
            <button id="btnConfirm" onclick="confirmLanguage()">Sim</button>
            <button id="btnCancel" onclick="closePopup()">Cancelar</button>
        </div>
    </div>
</div>

<script>
    let selectedLang = "";

    function openPopup(lang) {
        selectedLang = lang;
        document.getElementById("languagePopup").classList.add("active");
        document.body.classList.add("popup-active");

        const langTexts = {
            pt: `<strong>
    Este é um jogo para maiores de <span class="destaque-idade">18 ou 21 anos</span>, conforme a legislação de seu país.
    <br><br>
    Este é um jogo para diversão! Respeite seus limites e os dos outros jogadores.
    <br><br>
    Está de acordo e deseja continuar?
    </strong>`,
            en: `<strong>
    This is a game for people over <span class="destaque-idade">18 or 21 years old</span>, according to your country\'s laws.
    <br><br>
    This is a game for fun! Respect your limits and those of other players.
    <br><br>
    Do you agree and wish to continue?
    </strong>`,
            es: `<strong>
    Este es un juego para mayores de <span class="destaque-idade">18 o 21 años</span>, según la legislación de tu país.
    <br><br>
    ¡Este es un juego para divertirse! Respeta tus límites y los de los demás jugadores.
    <br><br>
    ¿Estás de acuerdo y deseas continuar?</strong>`,
            fr: `<strong>
    Ce jeu est destiné aux personnes de plus de <span class="destaque-idade">18 ou 21 ans</span>, selon la législation de votre pays.
    <br><br>
    C'est un jeu pour s\'amuser ! Respectez vos limites et celles des autres joueurs.
    <br><br>
    Êtes-vous d\'accord et souhaitez-vous continuer ?</strong>`,
            hi: `<strong>
    Yeh game sirf un logon ke liye hai jo <span class="destaque-idade">18 ya 21 saal</span> se upar hain, jaise ki aapke desh ka kanoon kehta hai.
    <br><br>
    Yeh sirf masti ke liye hai! Apni aur doosre players ki limits ka dhyaan rakho.
    <br><br>
    Kya aap sehmat hain aur aage badhna chahte hain?</strong>`
        };

        const buttonTexts = {
            pt: { yes: "Sim", cancel: "Cancelar" },
            en: { yes: "Yes", cancel: "Cancel" },
            es: { yes: "Sí", cancel: "Cancelar" },
            fr: { yes: "Oui", cancel: "Annuler" },
            hi: { yes: "Haan", cancel: "Radd karo" }
        };

        document.getElementById("popupText").innerHTML = langTexts[lang] || "Deseja continuar neste idioma?";
        document.getElementById("btnConfirm").innerText = buttonTexts[lang]?.yes || "Sim";
        document.getElementById("btnCancel").innerText = buttonTexts[lang]?.cancel || "Cancelar";
    }

    function closePopup() {
        document.getElementById("languagePopup").classList.remove("active");
        document.body.classList.remove("popup-active");
    }

    function confirmLanguage() {
        const confirmButton = document.getElementById("btnConfirm");
        confirmButton.classList.add("animar-clique-afundar");

        setTimeout(() => {
            if (selectedLang === 'pt') {
                window.location.href = './ptBr/menuPtBr.html';
            } else if (selectedLang === 'en') {
                window.location.href = './en/menuEn.html';
            } else if (selectedLang === 'es') {
                window.location.href = './es/menuEs.html';
            } else if (selectedLang === 'fr') {
                window.location.href = './fr/menuFr.html';
            } else if (selectedLang === 'hi') {
                window.location.href = './hi/menuHi.html';
            }
        }, 1000); // dá tempo da animação ser percebida
    }

    document.querySelectorAll(
        `button,
.button-language,
#btnConfirm,
#btnCancel,
.game-box,
.btn-fato,
.btn-vdd,
.btn-falso,
.btn-conseq,
.btn-proxima-pergunta,
.button-randomizador,
.voltar-wrapper,
.pergunta-e-resposta,
.popup .close,
.img-regras,
.popup-content`
    ).forEach(function (el) {
        el.addEventListener('click', function (event) {
            const target = event.currentTarget;
            const href = target.getAttribute("href");

            // Aplica a animação
            target.classList.remove('animar-clique-afundar');
            void target.offsetWidth;
            target.classList.add('animar-clique-afundar');

            // Se for um link <a>, evita a navegação imediata
            if (href) {
                event.preventDefault(); // impede o redirecionamento instantâneo

                setTimeout(() => {
                    window.location.href = href;
                }, 600); // tempo da animação antes de redirecionar
            }

            // Se não for link, apenas remove a classe depois do tempo
            setTimeout(() => {
                target.classList.remove('animar-clique-afundar');
            }, 700);
        });
    });

</script>
</body>

</html>