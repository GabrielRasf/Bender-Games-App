<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../../stylesCards.css">
    <link rel="stylesheet" type="text/css" href="../../cronometro.css">
    <title>Bebedeira Games</title>
</head>

<body>

<div class="game-container">
    <!-- Menu -->
    <nav class="menu">
        <div class="menu-left">
            <a href="../menuPtBr.html" class="voltar-wrapper" onclick="clicou-voltar">
                <img src="../../images/left-arrow.png" alt="Voltar">
                <h2 class="voltar">Voltar</h2>
            </a>
        </div>

        <div class="menu-center">
            <a href="../menuPtBr.html">
                <img class="logo-bebedeira" src="../../images/logo-sem-margem.png" alt="Logo Bebedeira" />
            </a>
        </div>

        <div class="menu-spacer"></div>
    </nav>

    <!-- Conte√∫do do jogo -->
    <div>
        <h1>M√≠micas para Adultos</h1>
        <a href="#" onclick="openPopup()">
            <img class="img-regras" src="../../images/regras.png" alt="Regras" />
            <h4>Regras</h4>
        </a>
    </div>

    <div class="card-frase">
        <p id="questionMimicasParaAdultos"></p>
    </div>
    <div class="button-container">
        <button onclick="nextQuestion()">Pr√≥xima pergunta</button>
    </div>
    <div id="result"></div>
</div>

<!-- Pop-up -->
<div id="popup" class="popup">
    <div class="popup-content">
        <div class="popup-header">
            <h2>Regras do Jogo</h2>
            <span class="close" onclick="closePopup()">&times;</span>
        </div>
        <ul>
            <li>Divida os jogadores em dois times.</li>
            <li>A cada rodada, uma equipe escolhe um jogador para realizar as m√≠micas.</li>
            <li>Esta pessoa ir√° ler uma m√≠mica e encenar para seu grupo.</li>
            <li>Ative o cron√¥metro de 60 segundos e comece a fazer a m√≠mica.</li>
            <li>A equipe deste jogador deve tentar advinhar o conte√∫do da carta.</li>
            <li>Se a equipe acertar, ganha um ponto.</li>
            <li>Se a equipe errar, um dos jogadores bebe uma dose.</li>
            <li>Na pr√≥xima rodada, a outra equipe joga.</li>
            <li>A equipe que tiver mais pontos ganha.</li>
            <li><strong>VARIA√á√ÉO</strong></li>
            <li>O jogador que far√° a m√≠mica deve fazer para todos da mesa</li>
            <li>Os jogadores que contabilizarem menos acertos entre um n¬∞ x de rodadas, bebem uma dose</li>
            <li>Divirta-se! üçª</li>
        </ul>
    </div>
</div>

<!-- Cron√¥metro -->
<button id="timer" onclick="handleTimerClick()">‚è≥</button>

<script>
    const gameData = {
        questions: [
            "Banheiro qu√≠mico",
            "Panquecas",
            "Soldador",
            "Spray de pimenta",
            "Coelho manco",
            "Ventilador de teto",
            "Pingue-pongue",
            "Floco de neve",
            "Boca a boca",
            "Carreta furac√£o",
            "Ginecologista",
            "Macarena",
            "Barco a motor",
            "Buraco errado",
            "Fococa",
            "Pentear",
            "Vergonha",
            "Orgasmo",
            "Caminh√£o pipa",
            "Regar plantas",
            "Parto normal",
            "Trocar fralda",
            "Passeio a cavalo",
            "Agiota",
            "lesma",
            "Quiropraxista",
            "Molhar o biscoito",
            "Comer baguete",
            "Exorcismo",
            "Cheirar coca√≠na",
            "Chicote",
            "Plug anal",
            "Tanque de guerra",
            "Futev√¥lei",
            "Cigarro eletr√¥nico",
            "Foto de pau",
            "Pedra, papel e tesoura",
            "Pel√©",
            "Bombinha de asma",
            "Joelma",
            "Sexo anal",
            "Tambor",
            "Clit√≥ris",
            "Nado sincronizado",
            "Anticoncepcional",
            "Neymar",
            "Micro p√™nis",
            "Arremesso de peso",
            "Cristo redentor",
            "Roda de pagode",
            "Buqu√™ de noiva",
            "Pinguim",
            "Alok",
            "Lula",
            "Churrasqueira",
            "Caixa t√©rmica",
            "Queimar a rosca",
            "Sexo por telefone",
            "Bal√©",
            "Golfinho",
            "Pesque e pague",
            "Unic√≥rnio",
            "Tarzan",
            "Sexo no carro",
            "Anel peniano",
            "Gangnam style (dan√ßa)",
            "Monocelha",
            "69",
            "Atirador de elite",
            "Vibrador",
            "Esgrima",
            "Pirulito pinta l√≠ngua",
            "Minions",
            "Dan√ßa da garrafa",
            "Helic√≥ptero",
            "Chaleira",
            "M√°quina de lavar",
            "Bar√µes da pisadinha",
            "Bolo de casamento",
            "Estrias",
            "Vagalume",
            "Milho com manteiga",
            "Pagar boleto",
            "Air Fryer",
            "Passear com cachorro",
            "Peidar",
            "Britadeira",
            "Pulveriza√ß√£o agr√≠cola",
            "Michael Jackson",
            "Quadriciclo",
            "Harry Potter",
            "Fazer caf√©",
            "Balde de gelo",
            "Penhasco",
            "Chamin√©",
            "Urubu",
            "Pedicure",
            "Karaok√™",
            "Boquete",
            "Fetiche por p√©s",
            "Ch√° revela√ß√£o",
            "Beatbox",
            "Lipoaspira√ß√£o",
            "Louro Jos√©",
            "De 4",
            "Chupar dedo do p√©",
            "Bast√£o",
            "Saquinho de ch√°",
            "Ponto G",
            "Empilhadeira",
            "Saltar de paraquedas",
            "Imposto de renda",
            "Dan√ßa da minhoca",
            "Buzina de caminh√£o",
            "Curling (esporte)",
            "Big Brother Brasil",
            "Abdomen definido",
            "Cookies",
            "Teste do baf√¥metro",
            "Viagra",
            "Torre Eiffel",
            "Calvo",
            "Tri√¢ngulo amoroso",
            "Cortina de chuveiro",
            "Fazer sushi",
            "Arco-√≠ris",
            "Patina√ß√£o no gelo",
            "Baleia",
            "Caf√© na cama",
            "Rec√©m-casado",
            "Fisiculturista",
            "Tiktoker",
            "C√¢mera lenta",
            "Zebra",
            "Corvo",
            "Diarr√©ia",
            "Descabelar o palha√ßo",
            "Mau h√°lito",
            "Piercing mamilo",
            "Afogar o ganso",
            "Boneca infl√°vel",
            "Chave inglesa",
            "Caixa de som",
            "porteiro",
            "Depila√ß√£o √≠ntima",
            "Cuec√£o de couro",
            "Semente",
            "Cachorro caramelo",
            "Maconha",
            "Cortar grama",
            "Exame de mama",
            "Dirigir b√™bado",
            "Titanic",
            "Guindaste",
            "Cerveja preta",
            "Papai Noel",
            "Preservativo",
            "Banheiro feminino",
            "Vendedor ambulante",
            "Gel lubrificante",
            "Cola quente",
            "Paz de esp√≠rito",
            "Cirurgi√£o pl√°stico",
            "Trampolim",
            "Yoga",
            "Pol√≠cia federal",
            "Bolo de cenoura",
            "Cobra",
            "Monalisa",
            "Escultura de gelo",
            "Beach tennis",
            "Botox",
            "H√©rnia de disco",
            "Karat√™",
            "Prato feito",
            "Beijo grego",
            "Aula de cer√¢mica",
            "Terremoto",
            "Travesti",
            "Corrida com obst√°culos",
            "Lagosta",
            "Amamentar",
            "Padre do bal√£o",
            "Bolsonaro",
            "Internet",
            "Iron Maiden",
            "Tren√≥",
            "Cego careca",
            "Sexo no chuveiro",
            "Amante",
            "Sereia",
            "Amendoim",
            "Banho de banheira",
            "Stripper",
            "Esmola no sinal",
            "Rinoceronte",
            "Abridor de garrafa",
            "Rinha de galo",
            "Lagarta",
            "Descabelar o palha√ßo",
            "Brincar com a pepeka",
            "Sentar com vontade",
            "Pirocoptero"
        ]
    };

    let questions = [];
    let currentQuestion = 0;
    let timeLeft = 60;
    let timerInterval = null;
    let isRunning = false;

    function loadQuestions() {
        questions = shuffleArray([...gameData.questions]);
        currentQuestion = 0;
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function nextQuestion() {
        stopTimer(); // Para o timer e reinicia a contagem

        if (questions.length === 0) {
            document.getElementById("questionMimicasParaAdultos").textContent = "Carregando perguntas...";
            loadQuestions();
            return;
        }

        if (currentQuestion < questions.length) {
            document.getElementById("questionMimicasParaAdultos").textContent = questions[currentQuestion];
            document.getElementById("result").textContent = "";
            currentQuestion++;
        } else {
            document.getElementById("questionMimicasParaAdultos").textContent = "Fim do jogo! Quer jogar de novo?";
            document.getElementById("result").textContent = "";
            // N√£o reinicia aqui
        }
    }

    function openPopup() {
        document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
        document.getElementById("popup").style.display = "none";
    }

    window.onclick = function (event) {
        let popup = document.getElementById("popup");
        if (event.target === popup) {
            popup.style.display = "none";
        }
    };

    function updateDisplay() {
        const timerButton = document.getElementById('timer');
        timerButton.textContent = isRunning ? timeLeft : '‚è≥';
    }

    function handleTimerClick() {
        if (isRunning) {
            stopTimer();
        } else {
            isRunning = true;
            updateDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();
                if (timeLeft <= 0) {
                    stopTimer();
                }
            }, 1000);
        }
    }

    function stopTimer() {
        clearInterval(timerInterval);
        timerInterval = null;
        isRunning = false;
        timeLeft = 60;
        updateDisplay(); // Atualiza para mostrar ‚è≥
    }

    document.querySelectorAll(
        `button,
.button-language,
#btnConfirm,
#btnCancel,
.game-box,
.btn-fato,
.btn-vdd,
.btn-falso,
.btn-conseq,
.btn-proxima-pergunta,
.button-randomizador,
.voltar-wrapper,
.pergunta-e-resposta,
.popup .close,
.img-regras,
.popup-content`
    ).forEach(function (el) {
        el.addEventListener('click', function (event) {
            const target = event.currentTarget;
            const href = target.getAttribute("href");

            // Aplica a anima√ß√£o
            target.classList.remove('animar-clique-afundar');
            void target.offsetWidth;
            target.classList.add('animar-clique-afundar');

            // Se for um link <a>, evita a navega√ß√£o imediata
            if (href) {
                event.preventDefault(); // impede o redirecionamento instant√¢neo

                setTimeout(() => {
                    window.location.href = href;
                }, 600); // tempo da anima√ß√£o antes de redirecionar
            }

            // Se n√£o for link, apenas remove a classe depois do tempo
            setTimeout(() => {
                target.classList.remove('animar-clique-afundar');
            }, 700);
        });
    });

    window.addEventListener('load', function () {
        loadQuestions();
        nextQuestion();
        updateDisplay();
    });
</script>

</body>

</html>